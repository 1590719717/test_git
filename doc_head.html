<!DOCTYPE <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>测试createEvent</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
</head>
<body>
    
    <script>
        
        var pathList = {
            "coin_coin" : 1,
            "btc_trade" : 1,
            "usdt_trade" : 1,
            "eth_trade" : 1,
        }

        function getPageSymbol(){
            var symbol_path = location.pathname.match(new RegExp("([^_\/]+_[^\/]+)\/([^\/]+)"));
            var symbol_hash = location.hash.replace("#","");
            console.log(symbol_path);
            console.log('hash:',symbol_hash);
            var arg = symbol_hash.split("&");
            if (!window["getHashParameters"]) {
                window["getHashParameters"] = {};
            }
            if(symbol_hash){
                for(var tmp, i = 0, l = arg.length; i < l;i++) {
                    tmp = arg[i].split('=');
                    window.getHashParameters[tmp[0]] = decodeURIComponent(tmp[1])
                }
                if (window.getHashParameters['s']) {
                    return window.getHashParameters['s'].split("_").concat([symbol_path[2]]);
                }
            }
            if(symbol_path){
                if(pathList[symbol_path[1]]){
                    return [null,null].concat([symbol_path[2]])
                }else{
                    return symbol_path[1].split("_").concat([symbol_path[2]]);
                }
            }
            return null;
        }
        console.log(getPageSymbol());
    </script>
</body>
</html>